import os
import json

def schedule_str(data: dict, subgroup: str, date: str) -> str:
    """ –í—ã–≤–æ–¥–∏—Ç str —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è """
    text = '–û—à–∏–±–∫–∞'
    times_of_lesson = ['8:30 - 10:00', '10:10 - 11:40', '12:40 - 14:10', 
            '14:20 - 15:50', '16:20 - 17:50', '18:00 - 19:30']

    if data['date'] == date:
        lessons_list = [item for item in data['lessons']]
        new_list = []
        for _ in range(1, len(lessons_list) + 1):
            min_num = {
                'num': 1000
            }
            min_index = 100
            for entry in enumerate(lessons_list):
                if int(entry[1]['num']) < int(min_num['num']):
                    min_num = entry[1]
                    min_index = int(entry[0])
            new_list.append(min_num)
            lessons_list.pop(min_index)
        text = f"{data['date']}  "\
                f"{data['lessons'][0]['day_of_week'].capitalize()}\n\n"
        for entry in new_list:
            if entry['subgroup'] == subgroup or entry['subgroup'] == "":
                text += f'{entry["num"]} - '\
                        f'({times_of_lesson[int(entry["num"]) - 1]})\n'\
                        f'{entry["lesson_name"]} - {entry["type_of_lesson"]}'\
                        f'\n{entry["name"]}\n{entry["room"]}\n\n'
    return text.strip()

def teachers_info_str(db, id: int) -> str:
    """ –í—ã–≤–æ–¥–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è—Ö –∏–∑ —Ñ–∞–π–ª–∞ teachers.json 
    –≤ —Ñ–æ—Ä–º–∞—Ç–µ str"""
    if 'teachers' in db.get_passwords(user_id=id):
        path = f'{os.getcwd()}\\users_data\\teachers.json'
        if os.path.exists(path):
            with open(path, 'r', encoding='utf-8') as teachers:
                list_of_teachers = json.load(teachers)
            text = ""
            for teacher in list_of_teachers:
                text += f'–ò–º—è: {teacher["name"]}\n'\
                        f'–¢–µ–ª–µ—Ñ–æ–Ω: {teacher["phone"]}\n'\
                        f'–ü–æ—á—Ç–∞: {teacher["mail"]}\n\n'
        else:
            text = '–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è—Ö –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ :c'
    else: 
        text = '–£ –≤–∞—Å –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è '\
                '–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è—Ö'
    return text


def passwords_info_str() -> str:
    text = 'üîµ–î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–∞—Ä–æ–ª—è, –Ω–∞—Ö–æ–¥—è—Å—å –≤ –¥–∞–Ω–Ω–æ–π –≤–∫–ª–∞–¥–∫–µ '\
        '("–ü–∞—Ä–æ–ª–∏"), –Ω–∞–ø–∏—à–∏—Ç–µ –±–æ—Ç—É —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –ø—Ä–∏–¥—É–º–∞–Ω–Ω—ã–º '\
        '–∫–æ–¥–æ–≤—ã–º —Å–ª–æ–≤–æ–º. (–í–≤–æ–¥–∏—Ç—å –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤)\n' \
        '–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —É –í–∞—Å –±—É–¥–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã–±—Ä–∞—Ç—å —Ç–∏–ø –ø–∞—Ä–æ–ª—è:\n'\
        '‚û°–û—Ç–∫—Ä—ã—Ç–∞—è -> –¥–µ–ª–∞—Ç—å —Ä–∞—Å—Å—ã–ª–∫—É –º–æ–≥—É—Ç –≤—Å–µ '\
        '–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤–≤–µ–ª–∏ –ø–∞—Ä–æ–ª—å\n'\
        '‚û°–ü—Ä–∏–≤–∞—Ç–Ω–∞—è -> –¥–µ–ª–∞—Ç—å —Ä–∞—Å—Å—ã–ª–∫—É –º–æ–∂–µ—Ç —Ç–æ–ª—å–∫–æ —Å–æ–∑–¥–∞—Ç–µ–ª—å –ø–∞—Ä–æ–ª—è\n\n'\
        'üîµ–î–ª—è —É–¥–∞–ª–µ–Ω–∏—è –ø–∞—Ä–æ–ª—è, –Ω–∞—Ö–æ–¥—è—Å—å –≤ –¥–∞–Ω–Ω–æ–π '\
        '–≤–∫–ª–∞–¥–∫–µ ("–ü–∞—Ä–æ–ª–∏"), –Ω–∞–ø–∏—à–∏—Ç–µ –±–æ—Ç—É —Å–æ–æ–±—â–µ–Ω–∏–µ: '\
        '"del –∫–æ–¥–æ–≤–æ–µ —Å–ª–æ–≤–æ"\n'\
        '–ü—Ä–∏–º–µ—Ä: del 123\n(—É –≤–∞—Å —É–¥–∞–ª–∏—Ç—Å—è –ø–∞—Ä–æ–ª—å 123)\n\n'\
        'üîµ–°–ø–∏—Å–æ–∫ –í–∞—à–∏—Ö –ø–∞—Ä–æ–ª–µ–π –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ '\
        '–∫–Ω–æ–ø–∫–∏ "–ú–æ–∏ –ø–∞—Ä–æ–ª–∏". \n\n' \
        '‚ùï–î–ª—è —Ä–∞—Å—Å—ã–ª–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –≤—Å–µ–º,—É –∫–æ–≥–æ –≤–≤–µ–¥—ë–Ω '\
        '—Ç–∞–∫–æ–π –∂–µ –ø–∞—Ä–æ–ª—å, –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –ª—é–±—É—é –¥—Ä—É–≥—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É '\
        '–±–æ—Ç–∞ –∏ –≤–≤–µ–¥–∏—Ç–µ "–ø–∞—Ä–æ–ª—å —Å–æ–æ–±—â–µ–Ω–∏–µ".\n' \
        '–ü—Ä–∏–º–µ—Ä: 123 –í—Å–µ–º –ø—Ä–∏–≤–µ—Ç!\n' \
        '(–≤—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —Å –≤–≤–µ–¥–µ–Ω–Ω—ã–º –∫–æ–¥–æ–≤—ã–º —Å–ª–æ–≤–æ–º '\
        '123 –æ—Ç–ø—Ä–∞–≤–∏—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ "–í—Å–µ–º –ø—Ä–∏–≤–µ—Ç!" )'
    return text


def settings_password_str() -> str:
    text = f'–í—ã–±–µ—Ä–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏ —Ä–∞—Å—Å—ã–ª–∫–∏:\n'\
            '–ü—Ä–∏–≤–∞—Ç–Ω–∞—è -> –¥–µ–ª–∞—Ç—å —Ä–∞—Å—Å—ã–ª–∫—É –º–æ–∂–µ—Ç —Ç–æ–ª—å–∫–æ '\
            '—Å–æ–∑–¥–∞—Ç–µ–ª—å\n'\
            '–û—Ç–∫—Ä—ã—Ç–∞—è -> –¥–µ–ª–∞—Ç—å —Ä–∞—Å—Å—ã–ª–∫—É –º–æ–≥—É—Ç –≤—Å–µ '\
            '–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤–≤–µ–ª–∏ –ø–∞—Ä–æ–ª—å'
    return text


def start_message_str() -> str:
    text = f'–ü—Ä–∏–≤–µ—Çüòâ\n–î–∞–Ω–Ω—ã–π –±–æ—Ç –¥—É–±–ª–∏—Ä—É–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–∏ '\
            '—Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Å–∞–π—Ç–∞ –ú–ì–¢–£ –ì–ê '\
            '( –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ –±–æ—Ç–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∫–∞–∂–¥—É—é —Å—Ä–µ–¥—É )'\
            f'\n–í—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —Å–æ–±—Ä–∞–Ω–∞ –∏–∑ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤\n\n'
    return text
