import os
import json
from config import teachers_info_path

def schedule_str(data: dict, subgroup: str, date: str) -> str:
    """ –í—ã–≤–æ–¥–∏—Ç str —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è """
    text = '–û—à–∏–±–∫–∞'
    times_of_lesson = ['8:30 - 10:00', '10:10 - 11:40', '12:40 - 14:10', 
            '14:20 - 15:50', '16:20 - 17:50', '18:00 - 19:30']

    if data['date'] == date:
        lessons_list = [item for item in data['lessons']]
        new_list = []
        for _ in range(1, len(lessons_list) + 1):
            min_num = {
                'num': 1000
            }
            min_index = 100
            for entry in enumerate(lessons_list):
                if int(entry[1]['num']) < int(min_num['num']):
                    min_num = entry[1]
                    min_index = int(entry[0])
            new_list.append(min_num)
            lessons_list.pop(min_index)
        text = f"{data['date']}  "\
                f"{data['lessons'][0]['day_of_week'].capitalize()}\n\n"
        for entry in new_list:
            if entry['subgroup'] == subgroup or entry['subgroup'] == "":
                text += f'{entry["num"]} - '\
                        f'({times_of_lesson[int(entry["num"]) - 1]})\n'\
                        f'{entry["lesson_name"]} - {entry["type_of_lesson"]}'\
                        f'\n{entry["name"]}\n{entry["room"]}\n\n'
    return text.strip()

def teachers_info_str(db, id: int) -> str:
    """ –í—ã–≤–æ–¥–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è—Ö –∏–∑ —Ñ–∞–π–ª–∞ teachers.json 
    –≤ —Ñ–æ—Ä–º–∞—Ç–µ str"""
    if 'teachers' in db.get_passwords(user_id=id):
        path = f'{teachers_info_path}\\teachers.json'
        if os.path.exists(path):
            with open(path, 'r', encoding='utf-8') as teachers:
                list_of_teachers = json.load(teachers)
            text = ""
            for teacher in list_of_teachers:
                text += f'–ò–º—è: {teacher["name"]}\n'\
                        f'–¢–µ–ª–µ—Ñ–æ–Ω: {teacher["phone"]}\n'\
                        f'–ü–æ—á—Ç–∞: {teacher["mail"]}\n\n'
        else:
            text = '–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è—Ö –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ :c'
    else: 
        text = '–£ –≤–∞—Å –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è '\
                '–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è—Ö'
    return text


def passwords_info_str() -> str:
    text = 'üîµ–î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–∞—Ä–æ–ª—è, –Ω–∞—Ö–æ–¥—è—Å—å –≤ –¥–∞–Ω–Ω–æ–π –≤–∫–ª–∞–¥–∫–µ '\
        '("–ü–∞—Ä–æ–ª–∏"), –Ω–∞–ø–∏—à–∏—Ç–µ –±–æ—Ç—É —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –ø—Ä–∏–¥—É–º–∞–Ω–Ω—ã–º '\
        '–∫–æ–¥–æ–≤—ã–º —Å–ª–æ–≤–æ–º. (–í–≤–æ–¥–∏—Ç—å –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤)\n' \
        '–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —É –í–∞—Å –±—É–¥–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã–±—Ä–∞—Ç—å —Ç–∏–ø –ø–∞—Ä–æ–ª—è:\n'\
        '‚û°–û—Ç–∫—Ä—ã—Ç–∞—è -> –¥–µ–ª–∞—Ç—å —Ä–∞—Å—Å—ã–ª–∫—É –º–æ–≥—É—Ç –≤—Å–µ '\
        '–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤–≤–µ–ª–∏ –ø–∞—Ä–æ–ª—å\n'\
        '‚û°–ü—Ä–∏–≤–∞—Ç–Ω–∞—è -> –¥–µ–ª–∞—Ç—å —Ä–∞—Å—Å—ã–ª–∫—É –º–æ–∂–µ—Ç —Ç–æ–ª—å–∫–æ —Å–æ–∑–¥–∞—Ç–µ–ª—å –ø–∞—Ä–æ–ª—è\n\n'\
        'üîµ–î–ª—è —É–¥–∞–ª–µ–Ω–∏—è –ø–∞—Ä–æ–ª—è, –Ω–∞—Ö–æ–¥—è—Å—å –≤ –¥–∞–Ω–Ω–æ–π '\
        '–≤–∫–ª–∞–¥–∫–µ ("–ü–∞—Ä–æ–ª–∏"), –Ω–∞–ø–∏—à–∏—Ç–µ –±–æ—Ç—É —Å–æ–æ–±—â–µ–Ω–∏–µ: '\
        '"del –∫–æ–¥–æ–≤–æ–µ —Å–ª–æ–≤–æ"\n'\
        '–ü—Ä–∏–º–µ—Ä: del 123\n(—É –≤–∞—Å —É–¥–∞–ª–∏—Ç—Å—è –ø–∞—Ä–æ–ª—å 123)\n\n'\
        'üîµ–°–ø–∏—Å–æ–∫ –í–∞—à–∏—Ö –ø–∞—Ä–æ–ª–µ–π –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ '\
        '–∫–Ω–æ–ø–∫–∏ "–ú–æ–∏ –ø–∞—Ä–æ–ª–∏". \n\n' \
        '‚ùï–î–ª—è —Ä–∞—Å—Å—ã–ª–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –≤—Å–µ–º,—É –∫–æ–≥–æ –≤–≤–µ–¥—ë–Ω '\
        '—Ç–∞–∫–æ–π –∂–µ –ø–∞—Ä–æ–ª—å, –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –ª—é–±—É—é –¥—Ä—É–≥—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É '\
        '–±–æ—Ç–∞ –∏ –≤–≤–µ–¥–∏—Ç–µ "–ø–∞—Ä–æ–ª—å —Å–æ–æ–±—â–µ–Ω–∏–µ".\n' \
        '–ü—Ä–∏–º–µ—Ä: 123 –í—Å–µ–º –ø—Ä–∏–≤–µ—Ç!\n' \
        '(–≤—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —Å –≤–≤–µ–¥–µ–Ω–Ω—ã–º –∫–æ–¥–æ–≤—ã–º —Å–ª–æ–≤–æ–º '\
        '123 –æ—Ç–ø—Ä–∞–≤–∏—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ "–í—Å–µ–º –ø—Ä–∏–≤–µ—Ç!" )'
    return text


def settings_password_str() -> str:
    text = f'–í—ã–±–µ—Ä–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏ —Ä–∞—Å—Å—ã–ª–∫–∏:\n'\
            '–ü—Ä–∏–≤–∞—Ç–Ω–∞—è -> –¥–µ–ª–∞—Ç—å —Ä–∞—Å—Å—ã–ª–∫—É –º–æ–∂–µ—Ç —Ç–æ–ª—å–∫–æ '\
            '—Å–æ–∑–¥–∞—Ç–µ–ª—å\n'\
            '–û—Ç–∫—Ä—ã—Ç–∞—è -> –¥–µ–ª–∞—Ç—å —Ä–∞—Å—Å—ã–ª–∫—É –º–æ–≥—É—Ç –≤—Å–µ '\
            '–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤–≤–µ–ª–∏ –ø–∞—Ä–æ–ª—å'
    return text


def start_message_str() -> str:
    text = f'–ü—Ä–∏–≤–µ—Çüòâ\n–î–∞–Ω–Ω—ã–π –±–æ—Ç –¥—É–±–ª–∏—Ä—É–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–∏ '\
            '—Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Å–∞–π—Ç–∞ –ú–ì–¢–£ –ì–ê '\
            '( –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ –±–æ—Ç–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∫–∞–∂–¥—É—é —Å—Ä–µ–¥—É )'\
            f'\n–í—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —Å–æ–±—Ä–∞–Ω–∞ –∏–∑ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤\n\n'
    return text


def short_description() -> str:
    text = f'1) –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –≥—Ä—É–ø–ø.\n'\
            f'üîµ –î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ —Å–≤–æ–µ–π –≥—Ä—É–ø–ø—ã –≤ –ø–µ—Ä–≤—ã–π '\
            f'—Ä–∞–∑ –Ω—É–∂–Ω–æ –Ω–∞–∂–∞—Ç—å –Ω–∞ –∫–Ω–æ–ø–∫—É "–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ" –∏ –≤—ã–±—Ä–∞—Ç—å –Ω—É–∂–Ω—É—é '\
            f'–í–∞–º –≥—Ä—É–ø–ø—É\n'\
            f'‚ùïÔ∏è –≠—Ç–æ –≥—Ä—É–ø–ø–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∏ –Ω–∞ '\
            f'–Ω–∞—á–∞–ª—å–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –∫–Ω–æ–ø–∫–∞ "–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ '\
            f'–≤—ã–±—Ä–∞–Ω–Ω–æ–π –≥—Ä—É–ø–ø—ã"\n'\
            f'‚ÑπÔ∏è –í –±–æ—Ç–µ –µ—Å—Ç—å –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å 5 –≥—Ä—É–ø–ø , —á—Ç–æ–±—ã –≤—ã '\
            f'–º–æ–≥–ª–∏ –±—ã—Å—Ç—Ä–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ª—é–¥–µ–π –Ω–∞ –ø–æ—Ç–æ–∫–µ –∏–ª–∏, '\
            f'–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–≤–æ–∏—Ö –¥—Ä—É–∑–µ–π.\n'\
            f'–î–ª—è —ç—Ç–æ–≥–æ –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –≥—Ä—É–ø–ø—ã –Ω—É–∂–Ω–æ –Ω–∞–∂–∞—Ç—å "–î–∞!", –∫–æ–≥–¥–∞ '\
            f'–í–∞–º –ø—Ä–µ–¥–ª–æ–∂–∞—Ç –µ–µ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å. –í –ø–æ—Å–ª–µ–¥—É—é—â–µ–º, –Ω–∞–∂–∞–≤ –Ω–∞ '\
            f'–∫–Ω–æ–ø–∫—É "–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –≥—Ä—É–ø–ø—ã", —É –≤–∞—Å –ø–æ—è–≤–∏—Ç—Å—è '\
            f'–≤–∫–ª–∞–¥–∫–∞ "–°–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ –≥—Ä—É–ø–ø—ã"*\n'\
            f'   *–ü—Ä–∏ —É—Å–ª–æ–≤–∏–∏, —á—Ç–æ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –≥—Ä—É–ø–ø –±–æ–ª—å—à–µ 1\n'\
            f'–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å –≥—Ä—É–ø–ø—É, –Ω–∞–∂–∞–≤ –Ω–∞ '\
            f'—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –∫–Ω–æ–ø–∫—É, –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–æ–≤—É—é.\n\n'\
            f'2) –†–∞—Å—Å—ã–ª–∫–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.\n'\
            f' üîµ–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –ø–æ–ª—É—á–∞—Ç—å —Ä–∞—Å—Å—ã–ª–∫—É —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è '\
            f'( –∏ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∑–∞–±—ã–≤–∞—Ç—å –∫–∞–∫–∏–µ –∑–∞–≤—Ç—Ä–∞ –ø–∞—Ä—ã ) –Ω—É–∂–Ω–æ –∑–∞–π—Ç–∏ '\
            f'–≤–æ –≤–∫–ª–∞–¥–∫—É "–î—Ä—É–≥–æ–µ" –Ω–∞ –Ω–∞—á–∞–ª—å–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ. –ù–∞–∂–∞–≤ –∫–Ω–æ–ø–∫—É '\
            f'"–†–∞—Å—Å—ã–ª–∫–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è", –≤—ã–±—Ä–∞—Ç—å —É–¥–æ–±–Ω—É—é –¥–ª—è –í–∞—Å:\n'\
            f' - –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –†–∞—Å—Å—ã–ª–∫–∞ (–≤ 20.00 –∫–∞–∂–¥—ã–π –¥–µ–Ω—å)\n'\
            f' - –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–∞—è –†–∞—Å—Å—ã–ª–∫–∞( –≤ —Å—É–±–±–æ—Ç—É  –≤ 20.00 –∫–∞–∂–¥—É—é –Ω–µ–¥–µ–ª—é)\n'\
            f' ‚ÑπÔ∏è –†–∞—Å—Å—ã–ª–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –¥–ª—è –í–´–ë–†–ê–ù–ù–û–ô –ì–†–£–ü–ü–´. –í—ã '\
            f'–º–æ–∂–µ—Ç–µ –ø–æ–ª—É—á–∞—Ç—å —Ä–∞—Å—Å—ã–ª–∫—É –¥–ª—è –≤—Å–µ—Ö –Ω—É–∂–Ω—ã—Ö –í–∞–º –≥—Ä—É–ø–ø, '\
            f'–µ—Å–ª–∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ —ç—Ç–∏ –¥–µ–π—Å—Ç–≤–∏—è,  –≤—ã–±–∏—Ä–∞—è –∫–∞–∂–¥—ã–π —Ä–∞–∑ '\
            f'–¥—Ä—É–≥—É—é –≥—Ä—É–ø–ø—É.\n\n'\
            f'3) –†–∞—Å—Å—ã–ª–∫–∞ –º–µ–º–æ–≤ –≥—Ä—É–ø–ø–µ –≤ –¥–∞–Ω–Ω–æ–º –±–æ—Ç–µ —Ç–∞–∫ –∂–µ –≤–æ–∑–º–æ–∂–Ω–∞! '\
            f'–ê –µ—Å–ª–∏ —Å–µ—Ä—å–µ–∑–Ω–æ:\n'\
            f'üîµ –î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã —Ä–∞—Å—Å—ã–ª–∞—Ç—å (–≤ –ø–æ–º–æ—â—å —Å—Ç–∞—Ä–æ—Å—Ç–∞–º) '\
            f'–≤–∞–∂–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –µ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏—è "–ü–∞—Ä–æ–ª–∏" –≤–æ –≤–∫–ª–∞–¥–∫–µ "–î—Ä—É–≥–æ–µ".\n'\
            f' ‚ÑπÔ∏è –í—ã –ø—Ä–∏–¥—É–º—ã–≤–∞–µ—Ç–µ –ø–∞—Ä–æ–ª—å, –¥—Ä—É–≥–∏–µ –µ–≥–æ –≤–≤–æ–¥—è—Ç, –∏ '\
            f'—á–µ—Ä–µ–∑ –¥–∞–Ω–Ω–æ–≥–æ –±–æ—Ç–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è —Ä–∞—Å—Å—ã–ª–∫–∞ —Ç–µ–∫—Å—Ç–∞, —Ñ–æ—Ç–æ '\
            f'–∏–ª–∏ –≤–∏–¥–µ–æ. –ü–æ–¥—Ä–æ–±–Ω–µ–µ –ø—Ä–æ –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–∞—Ä–æ–ª–µ–π –º–æ–∂–Ω–æ '\
            f'—É–∑–Ω–∞—Ç—å, –Ω–∞–∂–∞–≤ –Ω–∞ –∫–Ω–æ–ø–∫—É "–£–∑–Ω–∞—Ç—å", –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ '\
            f'–≤–æ –≤–∫–ª–∞–¥–∫—É "–ü–∞—Ä–æ–ª–∏"'

    return text
